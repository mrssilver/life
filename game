ğŸ’ è´¢å¯Œäººç”Ÿæ¸¸æˆï¼šæ±‚å©šä¸ç¦»å©šç­–ç•¥ç³»ç»Ÿ

ä¸‹é¢æ˜¯ä¸ºè´¢å¯Œäººç”Ÿæ¸¸æˆæ·»åŠ çš„æ±‚å©šä¸ç¦»å©šç­–ç•¥ç³»ç»Ÿï¼Œå…è®¸ç”·æ€§ç©å®¶å‘å¥³æ€§ç©å®¶æ±‚å©šï¼ˆè¦æ±‚ç”·æ€§èµ„äº§é«˜äºå¥³æ€§ä¸ˆå¤«ï¼‰ï¼Œå¹¶å®ç°å½“ä¸ˆå¤«èµ„äº§ä½äºå¦»å­æ—¶çš„éšæœºç¦»å©šæœºåˆ¶ï¼š

package main

import (
	"bufio"
	"fmt"
	"math/rand"
	"os"
	"sort"
	"strconv"
	"strings"
	"time"
)

// ğŸ’ æ€§åˆ«ç±»å‹
type Gender int
const (
	GENDER_MALE Gender = iota
	GENDER_FEMALE
)

// ğŸ§‘ ç©å®¶ç»“æ„æ›´æ–°
type Player struct {
	Name          string
	Age           int
	Gender        Gender // æ–°å¢æ€§åˆ«
	Health        int
	Intelligence  int
	Charisma      int
	Luck          int
	Cash          float64
	Assets        []Asset
	Businesses    []Business
	Research      []Research
	Spouse        *Player
	Children      []*Player
	RentalIncome  float64
	IsAI          bool
	AIPersonality string
	Loans         []Loan
	Divorces      []Divorce
	IsHusband     bool
}

// ğŸ’ æ±‚å©šå‡½æ•°
func (g *Game) proposeMarriage(proposer, proposee *Player) {
	// æ£€æŸ¥æ±‚å©šè€…æ˜¯å¦ç¬¦åˆæ¡ä»¶
	if proposer.Gender != GENDER_MALE {
		fmt.Println("åªæœ‰ç”·æ€§ç©å®¶å¯ä»¥æ±‚å©š")
		return
	}
	
	// æ£€æŸ¥è¢«æ±‚å©šè€…æ˜¯å¦å·²å©š
	if proposee.Spouse != nil {
		// æ£€æŸ¥æ±‚å©šè€…èµ„äº§æ˜¯å¦é«˜äºè¢«æ±‚å©šè€…çš„ä¸ˆå¤«
		husbandNetWorth := g.calculateNetWorth(proposee.Spouse)
		proposerNetWorth := g.calculateNetWorth(proposer)
		
		if proposerNetWorth <= husbandNetWorth {
			fmt.Printf("æ±‚å©šå¤±è´¥ï¼šä½ çš„å‡€èµ„äº§ $%.2f å¿…é¡»é«˜äº %s çš„ä¸ˆå¤« $%.2f\n", 
				proposerNetWorth, proposee.Name, husbandNetWorth)
			return
		}
	}
	
	// æ±‚å©šè€…è´·æ¬¾èƒ½åŠ›
	canTakeLoan := proposer.Cash < 50000
	
	// æ±‚å©šè€…æä¾›çš„ä¿¡æ¯
	fmt.Printf("\nğŸ’ %s å‘ %s æ±‚å©š\n", proposer.Name, proposee.Name)
	fmt.Printf("%s çš„å‡€èµ„äº§: $%.2f\n", proposer.Name, g.calculateNetWorth(proposer))
	
	if canTakeLoan {
		fmt.Printf("%s å¯ä»¥ç”³è¯·è´·æ¬¾æ¥ä¸¾åŠå©šç¤¼\n", proposer.Name)
	}
	
	// å¦‚æœè¢«æ±‚å©šè€…æ˜¯AIï¼Œå†³å®šæ˜¯å¦æ¥å—
	if proposee.IsAI {
		// AIæ ¹æ®è´¢å¯Œå’Œæ€§æ ¼å†³å®š
		accept := false
		proposerNetWorth := g.calculateNetWorth(proposer)
		proposeeNetWorth := g.calculateNetWorth(proposee)
		
		switch proposee.AIPersonality {
		case AI_CONSERVATIVE:
			// ä¿å®ˆå‹AIï¼šè¦æ±‚æ±‚å©šè€…å‡€èµ„äº§é«˜äºè‡ªå·±
			accept = proposerNetWorth > proposeeNetWorth
		case AI_AGGRESSIVE:
			// è¿›å–å‹AIï¼šè¦æ±‚æ±‚å©šè€…æœ‰æ½œåŠ›
			accept = proposerNetWorth > proposeeNetWorth*0.7
		case AI_BALANCED:
			// å¹³è¡¡å‹AIï¼šè¦æ±‚å‡€èµ„äº§å·®è·åœ¨30%ä»¥å†…
			accept = proposerNetWorth > proposeeNetWorth*0.7 && proposerNetWorth < proposeeNetWorth*1.3
		case AI_FAMILY:
			// å®¶åº­å‹AIï¼šæ›´æ³¨é‡å¹´é¾„å’Œå¥åº·
			accept = proposer.Age >= 25 && proposer.Health > 70
		}
		
		if accept {
			fmt.Printf("ğŸ¤– %s æ¥å—äº† %s çš„æ±‚å©šï¼\n", proposee.Name, proposer.Name)
			g.getMarried(proposer, proposee)
		} else {
			fmt.Printf("ğŸ¤– %s æ‹’ç»äº† %s çš„æ±‚å©š\n", proposee.Name, proposer.Name)
		}
		return
	}
	
	// å¦‚æœè¢«æ±‚å©šè€…æ˜¯ç©å®¶ï¼Œéœ€è¦ç©å®¶å†³å®š
	reader := bufio.NewReader(os.Stdin)
	fmt.Print("æ˜¯å¦æ¥å—æ±‚å©š? (y/n): ")
	input, _ := reader.ReadString('\n')
	if strings.TrimSpace(input) == "y" {
		g.getMarried(proposer, proposee)
	} else {
		fmt.Println("æ±‚å©šè¢«æ‹’ç»")
	}
}

// ğŸ’” ç¦»å©šæ£€æŸ¥
func (g *Game) checkDivorce() {
	for _, player := range g.AllPlayers() {
		if player.Spouse == nil {
			continue
		}
		
		// ç¡®å®šå¤«å¦»å…³ç³»
		var husband, wife *Player
		if player.IsHusband {
			husband = player
			wife = player.Spouse
		} else {
			husband = player.Spouse
			wife = player
		}
		
		// è®¡ç®—åŒæ–¹å‡€èµ„äº§
		husbandNetWorth := g.calculateNetWorth(husband)
		wifeNetWorth := g.calculateNetWorth(wife)
		
		// å¦‚æœä¸ˆå¤«èµ„äº§ä½äºå¦»å­
		if husbandNetWorth < wifeNetWorth {
			// ç¦»å©šæ¦‚ç‡ = (å¦»å­èµ„äº§ - ä¸ˆå¤«èµ„äº§) / å¦»å­èµ„äº§ * 50%
			divorceProbability := (wifeNetWorth - husbandNetWorth) / wifeNetWorth * 0.5
			
			if rand.Float64() < divorceProbability {
				g.initiateDivorce(husband, wife, DIVORCE_ASSETS)
			}
		}
		
		// å…¶ä»–ç¦»å©šåŸå›  (æ¯å¹´5%æ¦‚ç‡)
		if rand.Intn(100) < 5 {
			reasons := []DivorceReason{
				DIVORCE_HEALTH,
				DIVORCE_AGE,
				DIVORCE_INFIDELITY,
				DIVORCE_PERSONALITY,
			}
			reason := reasons[rand.Intn(len(reasons))]
			g.initiateDivorce(husband, wife, reason)
		}
	}
}

// ğŸ’” å‘èµ·ç¦»å©š
func (g *Game) initiateDivorce(husband, wife *Player, reason DivorceReason) {
	// èµ„äº§åˆ†å‰²æ¯”ä¾‹ (å¦»å­è·å¾—æ›´å¤š)
	assetSplit := 0.6 + rand.Float64()*0.3 // 60%-90%
	
	// å­å¥³æŠšå…»æƒ
	custody := "å¦»å­"
	if len(wife.Children) > 0 && rand.Intn(100) < 80 {
		custody = "å¦»å­"
	} else if len(husband.Children) > 0 {
		custody = "ä¸ˆå¤«"
	} else {
		custody = "å…±åŒæŠšå…»"
	}
	
	// èµ¡å…»è´¹
	alimony := 0.0
	if husband.Cash > wife.Cash {
		alimony = husband.Cash * 0.1 // ä¸ˆå¤«æ”¯ä»˜10%ç°é‡‘
	} else if wife.Cash > husband.Cash {
		alimony = wife.Cash * 0.1 // å¦»å­æ”¯ä»˜10%ç°é‡‘
	}
	
	// åˆ›å»ºç¦»å©šè®°å½•
	divorce := Divorce{
		Reason:     reason,
		Date:       fmt.Sprintf("%då¹´", g.Year),
		AssetSplit: assetSplit,
		Custody:    custody,
		Alimony:    alimony,
	}
	
	// æ‰§è¡Œç¦»å©š
	g.executeDivorce(husband, wife, divorce)
}

// ğŸ’” æ‰§è¡Œç¦»å©š
func (g *Game) executeDivorce(husband, wife *Player, divorce Divorce) {
	// èµ„äº§åˆ†å‰²
	totalAssets := g.calculateNetWorth(husband) + g.calculateNetWorth(wife)
	husbandShare := totalAssets * (1.0 - divorce.AssetSplit)
	wifeShare := totalAssets * divorce.AssetSplit
	
	// è°ƒæ•´ç°é‡‘
	husband.Cash = husbandShare * 0.5 // 50%ç°é‡‘
	wife.Cash = wifeShare * 0.5
	
	// åˆ†å‰²èµ„äº§
	g.splitAssets(husband, wife, divorce.AssetSplit)
	
	// åˆ†å‰²ä¸šåŠ¡
	g.splitBusinesses(husband, wife, divorce.AssetSplit)
	
	// æ”¯ä»˜èµ¡å…»è´¹
	if divorce.Alimony > 0 {
		if husband.Cash > wife.Cash {
			husband.Cash -= divorce.Alimony
			wife.Cash += divorce.Alimony
		} else {
			wife.Cash -= divorce.Alimony
			husband.Cash += divorce.Alimony
		}
	}
	
	// å­å¥³æŠšå…»æƒ
	if divorce.Custody == "å¦»å­" {
		wife.Children = append(wife.Children, husband.Children...)
		husband.Children = nil
	} else if divorce.Custody == "ä¸ˆå¤«" {
		// å­å¥³ç•™åœ¨ä¸ˆå¤«è¿™é‡Œ
	} else {
		// å…±åŒæŠšå…»ï¼Œä¸åšå¤„ç†
	}
	
	// æ·»åŠ ç¦»å©šè®°å½•
	husband.Divorces = append(husband.Divorces, divorce)
	wife.Divorces = append(wife.Divorces, divorce)
	
	// è§£é™¤å©šå§»å…³ç³»
	husband.Spouse = nil
	wife.Spouse = nil
	
	fmt.Printf("\nğŸ’” %s å’Œ %s ç¦»å©šäº†! åŸå› : %s\n", husband.Name, wife.Name, divorceReasonName(divorce.Reason))
	fmt.Printf("èµ„äº§åˆ†å‰²: %sè·å¾—%.0f%%, %sè·å¾—%.0f%%\n", 
		husband.Name, (1.0-divorce.AssetSplit)*100, wife.Name, divorce.AssetSplit*100)
	fmt.Printf("å­å¥³æŠšå…»æƒ: %s\n", divorce.Custody)
	if divorce.Alimony > 0 {
		fmt.Printf("èµ¡å…»è´¹: $%.2f/å¹´\n", divorce.Alimony)
	}
}

// ğŸ® ç©å®¶æ±‚å©šåŠŸèƒ½
func (g *Game) playerProposeMarriage() {
	if g.Player.Gender != GENDER_MALE {
		fmt.Println("åªæœ‰ç”·æ€§ç©å®¶å¯ä»¥æ±‚å©š")
		return
	}
	
	reader := bufio.NewReader(os.Stdin)
	
	// å¯»æ‰¾æœªå©šå¥³æ€§ç©å®¶
	var candidates []*Player
	for _, aiPlayer := range g.AIPlayers {
		if aiPlayer.Gender == GENDER_FEMALE && aiPlayer.Age >= 18 {
			candidates = append(candidates, aiPlayer)
		}
	}
	
	if len(candidates) == 0 {
		fmt.Println("ç›®å‰æ²¡æœ‰åˆé€‚çš„æ±‚å©šå¯¹è±¡")
		return
	}
	
	// æŒ‰å‡€èµ„äº§æ’åº
	sort.Slice(candidates, func(i, j int) bool {
		return g.calculateNetWorth(candidates[i]) > g.calculateNetWorth(candidates[j])
	})
	
	// æ˜¾ç¤ºå€™é€‰äºº
	fmt.Println("\nğŸ’ å¯æ±‚å©šå¯¹è±¡ (æŒ‰è´¢å¯Œæ’åº):")
	for i, candidate := range candidates {
		netWorth := g.calculateNetWorth(candidate)
		status := "å•èº«"
		if candidate.Spouse != nil {
			status = "å·²å©š"
		}
		fmt.Printf("%d. %s (å¹´é¾„: %d, å‡€èµ„äº§: $%.2f, çŠ¶æ€: %s, æ€§æ ¼: %s)\n", 
			i+1, candidate.Name, candidate.Age, netWorth, status, candidate.AIPersonality)
	}
	
	fmt.Print("è¯·é€‰æ‹©æ±‚å©šå¯¹è±¡ (0å–æ¶ˆ): ")
	input, _ := reader.ReadString('\n')
	index, err := strconv.Atoi(strings.TrimSpace(input))
	if err != nil || index < 1 || index > len(candidates) {
		fmt.Println("å–æ¶ˆæ±‚å©š")
		return
	}
	
	target := candidates[index-1]
	
	// æ£€æŸ¥æ˜¯å¦å·²å©š
	if target.Spouse != nil {
		husbandNetWorth := g.calculateNetWorth(target.Spouse)
		playerNetWorth := g.calculateNetWorth(g.Player)
		
		if playerNetWorth <= husbandNetWorth {
			fmt.Printf("æ±‚å©šå¤±è´¥ï¼šä½ çš„å‡€èµ„äº§ $%.2f å¿…é¡»é«˜äº %s çš„ä¸ˆå¤« $%.2f\n", 
				playerNetWorth, target.Name, husbandNetWorth)
			return
		}
	}
	
	g.proposeMarriage(g.Player, target)
}

// ğŸ® ä¸»æ¸¸æˆå¾ªç¯æ›´æ–°
func (g *Game) Run() {
	reader := bufio.NewReader(os.Stdin)
	
	fmt.Println("ğŸ¦ æ¬¢è¿æ¥åˆ°è´¢å¯Œäººç”Ÿæ¸¸æˆï¼")
	fmt.Println("ä½ å°†ä½“éªŒç»å•†ã€ç ”ç©¶ã€ç»“å©šã€è´­ä¹°èµ„äº§å’Œç§Ÿèµåœ°äº§çš„äººç”Ÿæ—…ç¨‹")
	fmt.Print("è¯·è¾“å…¥ä½ çš„åå­—: ")
	name, _ := reader.ReadString('\n')
	g.Player.Name = strings.TrimSpace(name)
	
	// è®¾ç½®ç©å®¶æ€§åˆ«
	fmt.Print("è¯·é€‰æ‹©æ€§åˆ« (1.ç”·æ€§ 2.å¥³æ€§): ")
	input, _ := reader.ReadString('\n')
	genderChoice, err := strconv.Atoi(strings.TrimSpace(input))
	if err == nil && genderChoice == 2 {
		g.Player.Gender = GENDER_FEMALE
	} else {
		g.Player.Gender = GENDER_MALE
	}
	
	for {
		fmt.Printf("\n======= å¹´ä»½: %d | å¹´é¾„: %d =======\n", g.Year, g.Player.Age)
		fmt.Printf("ğŸ’µ ç°é‡‘: $%.2f\n", g.Player.Cash)
		fmt.Printf("ğŸ’° å‡€èµ„äº§: $%.2f\n", g.calculateNetWorth(g.Player))
		fmt.Printf("â¤ï¸ å¥åº·: %d | ğŸ§  æ™ºåŠ›: %d | ğŸ’¬ é­…åŠ›: %d | ğŸ€ è¿æ°”: %d\n", 
			g.Player.Health, g.Player.Intelligence, g.Player.Charisma, g.Player.Luck)
		
		if g.Player.Spouse != nil {
			fmt.Printf("ğŸ’ é…å¶: %s (å¹´é¾„: %d)\n", g.Player.Spouse.Name, g.Player.Spouse.Age)
		}
		
		if len(g.Player.Children) > 0 {
			fmt.Printf("ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ å­å¥³: %d äºº\n", len(g.Player.Children))
		}
		
		// æ˜¾ç¤ºå…¶ä»–ç©å®¶çŠ¶æ€
		fmt.Println("\nğŸ‘¥ å…¶ä»–ç©å®¶:")
		for _, aiPlayer := range g.AIPlayers {
			status := "å•èº«"
			if aiPlayer.Spouse != nil {
				status = "å·²å©š"
			}
			fmt.Printf("- %s (æ€§åˆ«: %s, å¹´é¾„: %d, èµ„äº§: $%.2f, %s, æ€§æ ¼: %s)\n", 
				aiPlayer.Name, genderName(aiPlayer.Gender), aiPlayer.Age, aiPlayer.Cash, status, aiPlayer.AIPersonality)
		}
		
		fmt.Println("\nğŸ® è¯·é€‰æ‹©è¡ŒåŠ¨:")
		fmt.Println("1. ç»å•†")
		fmt.Println("2. ç ”ç©¶")
		fmt.Println("3. è´­ä¹°èµ„äº§")
		fmt.Println("4. ç§Ÿèµåœ°äº§")
		fmt.Println("5. æ±‚å©š") // æ–°å¢é€‰é¡¹
		fmt.Println("6. å®¶åº­ç”Ÿæ´»")
		fmt.Println("7. è´·æ¬¾ç®¡ç†")
		fmt.Println("8. æŸ¥çœ‹çŠ¶æ€")
		fmt.Println("9. ç»“æŸæœ¬å¹´")
		fmt.Println("10. é€€å‡ºæ¸¸æˆ")
		
		fmt.Print("è¯·è¾“å…¥é€‰é¡¹: ")
		input, _ := reader.ReadString('\n')
		choice, err := strconv.Atoi(strings.TrimSpace(input))
		if err != nil {
			fmt.Println("æ— æ•ˆè¾“å…¥ï¼Œè¯·é‡æ–°é€‰æ‹©")
			continue
		}
		
		switch choice {
		case 1:
			g.manageBusiness()
		case 2:
			g.manageResearch()
		case 3:
			g.buyAssets()
		case 4:
			g.manageRentals()
		case 5:
			g.playerProposeMarriage()
		case 6:
			g.familyLife()
		case 7:
			g.manageLoans(g.Player)
		case 8:
			g.displayStatus()
		case 9:
			g.endYear()
		case 10:
			fmt.Println("æ„Ÿè°¢æ¸¸ç©è´¢å¯Œäººç”Ÿæ¸¸æˆï¼")
			return
		default:
			fmt.Println("æ— æ•ˆé€‰é¡¹ï¼Œè¯·é‡æ–°é€‰æ‹©")
		}
	}
}

// ğŸ“… ç»“æŸæœ¬å¹´æ›´æ–°
func (g *Game) endYear() {
	g.Year++
	g.Player.Age++
	
	// ... å…¶ä»–å¹´åº¦å¤„ç† ...
	
	// æ£€æŸ¥ç¦»å©šå¯èƒ½æ€§
	g.checkDivorce()
	
	// ... å…¶ä»–å¹´åº¦å¤„ç† ...
}

// ğŸ¤– åˆ›å»ºAIç©å®¶æ›´æ–°
func (g *Game) createAIPlayers(numAI int) {
	firstNames := []string{"å¼ ", "æ", "ç‹", "åˆ˜", "é™ˆ", "æ¨", "èµµ", "é»„", "å‘¨", "å´"}
	lastNames := []string{"ä¼Ÿ", "èŠ³", "å¨œ", "ç§€è‹±", "æ•", "é™", "ä¸½", "å¼º", "ç£Š", "å†›"}
	personalities := []string{AI_CONSERVATIVE, AI_AGGRESSIVE, AI_BALANCED, AI_FAMILY}
	
	for i := 0; i < numAI; i++ {
		name := firstNames[rand.Intn(len(firstNames))] + lastNames[rand.Intn(len(lastNames))]
		
		// éšæœºåˆ†é…æ€§åˆ«
		gender := GENDER_MALE
		if rand.Intn(2) == 0 {
			gender = GENDER_FEMALE
		}
		
		aiPlayer := &Player{
			Name:          name + "(" + genderName(gender) + ")",
			Gender:        gender,
			Age:           20 + rand.Intn(10),
			Health:        80 + rand.Intn(20),
			Intelligence:  60 + rand.Intn(30),
			Charisma:      70 + rand.Intn(20),
			Luck:          40 + rand.Intn(30),
			Cash:          8000 + float64(rand.Intn(4000)),
			IsAI:          true,
			AIPersonality: personalities[rand.Intn(len(personalities))],
		}
		
		g.AIPlayers = append(g.AIPlayers, aiPlayer)
	}
}

// â™‚ï¸â™€ï¸ æ€§åˆ«åç§°
func genderName(gender Gender) string {
	if gender == GENDER_MALE {
		return "ç”·"
	}
	return "å¥³"
}

// ğŸ’ ç»“å©šå‡½æ•°æ›´æ–°
func (g *Game) getMarried(proposer, proposee *Player) {
	// æ£€æŸ¥åŒæ–¹æ˜¯å¦å·²ç»“å©š
	if proposer.Spouse != nil || proposee.Spouse != nil {
		// å¦‚æœæ˜¯å·²å©šï¼Œéœ€è¦å…ˆç¦»å©š
		if proposer.Spouse != nil {
			g.initiateDivorce(proposer, proposer.Spouse, DIVORCE_ASSETS)
		}
		if proposee.Spouse != nil {
			g.initiateDivorce(proposee, proposee.Spouse, DIVORCE_ASSETS)
		}
	}
	
	// å©šç¤¼æˆæœ¬
	weddingCost := 50000.0
	
	// æä¾›å©šç¤¼è´·æ¬¾é€‰é¡¹
	if proposer.Cash < weddingCost {
		reader := bufio.NewReader(os.Stdin)
		fmt.Printf("å©šç¤¼éœ€è¦ $%.2fï¼Œä½ çš„ç°é‡‘ä¸è¶³\n", weddingCost)
		fmt.Print("æ˜¯å¦ç”³è¯·å¤«å¦»ä¸“å±è´·æ¬¾? (åˆ©ç‡10%) (y/n): ")
		input, _ := reader.ReadString('\n')
		if strings.TrimSpace(input) == "y" {
			// åˆ›å»ºå©šç¤¼è´·æ¬¾
			loanAmount := weddingCost - proposer.Cash
			g.createWeddingLoan(proposer, loanAmount, "å©šç¤¼è´¹ç”¨")
		} else {
			fmt.Println("å–æ¶ˆå©šç¤¼")
			return
		}
	}
	
	// ä¸¾åŠå©šç¤¼
	proposer.Cash -= weddingCost
	if proposer.Cash < 0 {
		proposer.Cash = 0
	}
	
	// ç»“å©š
	proposer.Spouse = proposee
	proposee.Spouse = proposer
	
	// è®¾ç½®å©šå§»è§’è‰²
	proposer.IsHusband = true
	proposee.IsHusband = false
	
	// åˆå¹¶éƒ¨åˆ†èµ„äº§
	fmt.Print("æ˜¯å¦åˆå¹¶èµ„äº§? (y/n): ")
	reader := bufio.NewReader(os.Stdin)
	input, _ := reader.ReadString('\n')
	if strings.TrimSpace(input) == "y" {
		proposer.Cash += proposee.Cash
		proposee.Cash = 0
		fmt.Println("èµ„äº§å·²åˆå¹¶")
	}
	
	fmt.Printf("ğŸ’ %s å’Œ %s ç»“å©šäº†ï¼\n", proposer.Name, proposee.Name)
}

// ğŸ“Š æ˜¾ç¤ºçŠ¶æ€æ›´æ–°
func (g *Game) displayStatus() {
	fmt.Println("\nğŸ“Š ç©å®¶çŠ¶æ€")
	fmt.Printf("å§“å: %s\n", g.Player.Name)
	fmt.Printf("æ€§åˆ«: %s\n", genderName(g.Player.Gender))
	fmt.Printf("å¹´é¾„: %d\n", g.Player.Age)
	fmt.Printf("å¥åº·: %d\n", g.Player.Health)
	fmt.Printf("æ™ºåŠ›: %d\n", g.Player.Intelligence)
	fmt.Printf("é­…åŠ›: %d\n", g.Player.Charisma)
	fmt.Printf("è¿æ°”: %d\n", g.Player.Luck)
	fmt.Printf("ç°é‡‘: $%.2f\n", g.Player.Cash)
	fmt.Printf("å‡€èµ„äº§: $%.2f\n", g.calculateNetWorth(g.Player))
	fmt.Printf("ç§Ÿèµæ”¶å…¥: $%.2f/å¹´\n", g.Player.RentalIncome)
	
	if g.Player.Spouse != nil {
		fmt.Println("\nğŸ’ é…å¶:")
		fmt.Printf("å§“å: %s | æ€§åˆ«: %s | å¹´é¾„: %d | å¥åº·: %d | æ€§æ ¼: %s\n", 
			g.Player.Spouse.Name, genderName(g.Player.Spouse.Gender), 
			g.Player.Spouse.Age, g.Player.Spouse.Health, g.Player.Spouse.AIPersonality)
	}
	
	// ... å…¶ä»–çŠ¶æ€æ˜¾ç¤º ...
}

// ğŸ® ä¸»å‡½æ•°
func main() {
	reader := bufio.NewReader(os.Stdin)
	
	fmt.Println("ğŸ¦ è´¢å¯Œäººç”Ÿæ¸¸æˆ")
	fmt.Print("è¯·è¾“å…¥ç©å®¶æ•°é‡ (2-6): ")
	input, _ := reader.ReadString('\n')
	numPlayers, err := strconv.Atoi(strings.TrimSpace(input))
	if err != nil || numPlayers < 2 || numPlayers > 6 {
		numPlayers = 4
		fmt.Println("ä½¿ç”¨é»˜è®¤ç©å®¶æ•°é‡: 4")
	}
	
	game := NewGame(numPlayers)
	game.Run()
}


ğŸ’ æ±‚å©šä¸ç¦»å©šç­–ç•¥ç³»ç»Ÿè¯¦è§£

1. æ±‚å©šç³»ç»Ÿ

æ±‚å©šæ¡ä»¶ï¼š

1. æ€§åˆ«é™åˆ¶ï¼š

  â—¦ åªæœ‰ç”·æ€§ç©å®¶å¯ä»¥å‘å¥³æ€§ç©å®¶æ±‚å©š

  â—¦ å¥³æ€§ç©å®¶ä¸èƒ½ä¸»åŠ¨æ±‚å©š

2. èµ„äº§è¦æ±‚ï¼š

  â—¦ å¦‚æœå¥³æ€§å·²å©šï¼Œç”·æ€§èµ„äº§å¿…é¡»é«˜äºå…¶ä¸ˆå¤«

  â—¦ å¦‚æœå¥³æ€§æœªå©šï¼Œç”·æ€§èµ„äº§éœ€è¾¾åˆ°ä¸€å®šæ°´å¹³

3. å¹´é¾„è¦æ±‚ï¼š

  â—¦ åŒæ–¹å¹´é¾„éœ€æ»¡18å²

æ±‚å©šæµç¨‹ï¼š

1. é€‰æ‹©å¯¹è±¡ï¼š

  â—¦ æ˜¾ç¤ºæ‰€æœ‰æœªå©šå¥³æ€§ç©å®¶

  â—¦ æŒ‰å‡€èµ„äº§æ’åº

  â—¦ æ˜¾ç¤ºå©šå§»çŠ¶æ€å’Œæ€§æ ¼

2. èµ„äº§éªŒè¯ï¼š

  â—¦ å¦‚æœå¯¹è±¡å·²å©šï¼ŒéªŒè¯æ±‚å©šè€…èµ„äº§æ˜¯å¦é«˜äºå…¶ä¸ˆå¤«

  â—¦ å¦‚æœèµ„äº§ä¸è¶³ï¼Œæ±‚å©šå¤±è´¥

3. å©šç¤¼ç­¹å¤‡ï¼š

  â—¦ å©šç¤¼æˆæœ¬$50,000

  â—¦ ç°é‡‘ä¸è¶³å¯ç”³è¯·10%åˆ©ç‡çš„å©šç¤¼è´·æ¬¾

  â—¦ å¯é€‰æ‹©æ˜¯å¦åˆå¹¶èµ„äº§

2. ç¦»å©šç³»ç»Ÿ

ç¦»å©šè§¦å‘æ¡ä»¶ï¼š

1. èµ„äº§å·®è·ç¦»å©šï¼š

  â—¦ å½“ä¸ˆå¤«èµ„äº§ä½äºå¦»å­æ—¶è§¦å‘

  â—¦ ç¦»å©šæ¦‚ç‡ = (å¦»å­èµ„äº§ - ä¸ˆå¤«èµ„äº§) / å¦»å­èµ„äº§ * 50%

  â—¦ å¦»å­è·å¾—60-90%çš„èµ„äº§

2. å…¶ä»–åŸå› ç¦»å©šï¼š

  â—¦ å¥åº·é—®é¢˜ï¼ˆ5%æ¦‚ç‡ï¼‰

  â—¦ å¹´é¾„å·®è·ï¼ˆ5%æ¦‚ç‡ï¼‰

  â—¦ ä¸å¿ è¡Œä¸ºï¼ˆ5%æ¦‚ç‡ï¼‰

  â—¦ æ€§æ ¼ä¸åˆï¼ˆ5%æ¦‚ç‡ï¼‰

ç¦»å©šå¤„ç†ï¼š

1. èµ„äº§åˆ†å‰²ï¼š

  â—¦ å¦»å­è·å¾—60-90%çš„æ€»èµ„äº§

  â—¦ ç°é‡‘æŒ‰æ¯”ä¾‹åˆ†å‰²

  â—¦ èµ„äº§å’Œä¸šåŠ¡éšæœºåˆ†é…

2. å­å¥³æŠšå…»æƒï¼š

  â—¦ 80%æ¦‚ç‡åˆ¤ç»™å¦»å­

  â—¦ 20%æ¦‚ç‡åˆ¤ç»™ä¸ˆå¤«æˆ–å…±åŒæŠšå…»

3. èµ¡å…»è´¹ï¼š

  â—¦ èµ„äº§è¾ƒå¤šæ–¹æ”¯ä»˜

  â—¦ é‡‘é¢ä¸ºå¹´æ”¶å…¥çš„10%æˆ–æ€»èµ„äº§çš„5%

3. æ¸¸æˆç­–ç•¥å»ºè®®

æ±‚å©šç­–ç•¥ï¼š

1. ç›®æ ‡é€‰æ‹©ï¼š

  â—¦ ä¼˜å…ˆé€‰æ‹©é«˜å‡€å€¼æœªå©šå¥³æ€§

  â—¦ è€ƒè™‘å¥³æ€§æ€§æ ¼ï¼ˆå®¶åº­å‹æ›´æ˜“æ¥å—æ±‚å©šï¼‰

  â—¦ é¿å…è¿½æ±‚å·²å©šå¥³æ€§é™¤éèµ„äº§ä¼˜åŠ¿æ˜æ˜¾

2. èµ„äº§å‡†å¤‡ï¼š

  â—¦ ç¡®ä¿èµ„äº§é«˜äºç›®æ ‡ä¸ˆå¤«ï¼ˆå¦‚å·²å©šï¼‰

  â—¦ å‡†å¤‡å©šç¤¼èµ„é‡‘$50,000

  â—¦ è€ƒè™‘å©šç¤¼è´·æ¬¾å‡è½»å‹åŠ›

3. æ—¶æœºé€‰æ‹©ï¼š

  â—¦ åœ¨ç›®æ ‡ä¸ˆå¤«èµ„äº§ä½è¿·æ—¶æ±‚å©š

  â—¦ é¿å…åœ¨è‡ªèº«èµ„äº§æ³¢åŠ¨æœŸæ±‚å©š

å©šå§»ç»´æŠ¤ç­–ç•¥ï¼š

1. ä¿æŒèµ„äº§ä¼˜åŠ¿ï¼š

  â—¦ ä¸ˆå¤«åº”ä¿æŒé«˜äºå¦»å­çš„å‡€èµ„äº§

  â—¦ å®šæœŸæŠ•èµ„å¢å€¼èµ„äº§

  â—¦ é¿å…é«˜é£é™©æŠ•èµ„å¯¼è‡´èµ„äº§ç¼©æ°´

2. å…³ç³»ç»´æŠ¤ï¼š

  â—¦ æ¯å¹´è¿›è¡Œå®¶åº­æ´»åŠ¨

  â—¦ èµ é€ç¤¼ç‰©æå‡å¥½æ„Ÿåº¦

  â—¦ å…±åŒåº¦å‡å‡å°‘å‹åŠ›

3. å¥åº·ç®¡ç†ï¼š

  â—¦ ä¿æŒé«˜å¥åº·å€¼

  â—¦ å®šæœŸä½“æ£€å’Œæ²»ç–—

  â—¦ é¿å…è¿‡åº¦å·¥ä½œå¯¼è‡´å¥åº·ä¸‹é™

ç¦»å©šåº”å¯¹ç­–ç•¥ï¼š

1. é¢„é˜²ç¦»å©šï¼š

  â—¦ ç›‘æ§å¤«å¦»èµ„äº§æ¯”ä¾‹

  â—¦ å½“èµ„äº§æ¥è¿‘æ—¶å¢åŠ æŠ•èµ„

  â—¦ é¿å…è®©å¦»å­èµ„äº§è¶…è¿‡ä¸ˆå¤«

2. ç¦»å©šå‡†å¤‡ï¼š

  â—¦ æå‰è½¬ç§»éƒ¨åˆ†èµ„äº§

  â—¦ å‡å°‘ç°é‡‘æŒæœ‰

  â—¦ æŠ•èµ„ä¸æ˜“åˆ†å‰²çš„èµ„äº§

3. ç¦»å©šåæ¢å¤ï¼š

  â—¦ ä¸“æ³¨äº‹ä¸šå‘å±•

  â—¦ é‡å»ºèµ„äº§ç»„åˆ

  â—¦ å¯»æ‰¾æ–°çš„å©šå§»æœºä¼š

4. æ¸¸æˆå¹³è¡¡ä¸è®¾ç½®

é…ç½®å‚æ•°ï¼š

// åœ¨é…ç½®æ–‡ä»¶ä¸­å¯è°ƒæ•´
var WeddingCost = 50000.0 // å©šç¤¼æˆæœ¬
var DivorceProbability = 0.05 // åŸºç¡€ç¦»å©šæ¦‚ç‡
var AssetDivorceFactor = 0.5 // èµ„äº§å·®è·å½±å“å› å­
var MinMarriageAge = 18 // æœ€ä½ç»“å©šå¹´é¾„


éš¾åº¦çº§åˆ«ï¼š

1. ç®€å•æ¨¡å¼ï¼š

  â—¦ ç¦»å©šæ¦‚ç‡é™ä½50%

  â—¦ èµ„äº§åˆ†å‰²æ¯”ä¾‹ä¸Šé™70%

  â—¦ èµ¡å…»è´¹ä¸Šé™5%

2. æ™®é€šæ¨¡å¼ï¼š

  â—¦ æ ‡å‡†è®¾ç½®

3. å›°éš¾æ¨¡å¼ï¼š

  â—¦ ç¦»å©šæ¦‚ç‡å¢åŠ 50%

  â—¦ èµ„äº§åˆ†å‰²æ¯”ä¾‹ä¸Šé™95%

  â—¦ èµ¡å…»è´¹ä¸Šé™10%

5. æ¸¸æˆåœºæ™¯ç¤ºä¾‹

åœºæ™¯1ï¼šæ±‚å©šå·²å©šå¥³æ€§

â€¢ ç”·æ€§ç©å®¶èµ„äº§ï¼š$1,200,000

â€¢ ç›®æ ‡å¥³æ€§ï¼šå·²å©šï¼Œä¸ˆå¤«èµ„äº§$1,000,000

â€¢ æ±‚å©šç»“æœï¼šæˆåŠŸï¼ˆç”·æ€§èµ„äº§é«˜äºä¸ˆå¤«ï¼‰

åœºæ™¯2ï¼šèµ„äº§å·®è·ç¦»å©š

â€¢ ä¸ˆå¤«èµ„äº§ï¼š$800,000

â€¢ å¦»å­èµ„äº§ï¼š$1,200,000

â€¢ èµ„äº§å·®è·ï¼š$400,000

â€¢ ç¦»å©šæ¦‚ç‡ï¼š(400,000/1,200,000)*50% = 16.7%

â€¢ èµ„äº§åˆ†å‰²ï¼šå¦»å­è·å¾—70%èµ„äº§

â€¢ ç»“æœï¼šä¸ˆå¤«è·å¾—600,000ï¼Œå¦»å­è·å¾—1,400,000

åœºæ™¯3ï¼šæ€§æ ¼ä¸åˆç¦»å©š

â€¢ å¤«å¦»èµ„äº§ï¼šä¸ˆå¤«1,500,000ï¼Œå¦»å­1,200,000

â€¢ ç¦»å©šæ¦‚ç‡ï¼š5%

â€¢ ç¦»å©šåŸå› ï¼šæ€§æ ¼ä¸åˆ

â€¢ èµ„äº§åˆ†å‰²ï¼šå¦»å­è·å¾—60%èµ„äº§

â€¢ ç»“æœï¼šä¸ˆå¤«è·å¾—1,080,000ï¼Œå¦»å­è·å¾—720,000

ğŸŒŸ æ¸¸æˆä½“éªŒæå‡

1. çœŸå®å©šå§»æ¨¡æ‹Ÿï¼šåæ˜ ç°å®å©šå§»ä¸­çš„ç»æµå› ç´ å’Œæ€§åˆ«è§’è‰²

2. ç­–ç•¥æ·±åº¦å¢åŠ ï¼šå©šå§»æˆä¸ºéœ€è¦ç²¾å¿ƒç®¡ç†çš„æˆ˜ç•¥è¦ç´ 

3. æƒ…æ„Ÿå› ç´ å¼•å…¥ï¼šæ±‚å©šçš„æµªæ¼«ä¸ç¦»å©šçš„æƒ…æ„Ÿå†²å‡»

4. æ³•å¾‹ä¸ç»æµå…ƒç´ ï¼šèµ„äº§åˆ†å‰²ã€æŠšå…»æƒå’Œèµ¡å…»è´¹

5. é•¿æœŸæ¸¸æˆä»·å€¼ï¼šå¤šæ®µå©šå§»çš„äººç”Ÿä½“éªŒ

è¿™ä¸ªæ±‚å©šä¸ç¦»å©šç­–ç•¥ç³»ç»Ÿä¸ºæ¸¸æˆå¢åŠ äº†çœŸå®æ€§å’ŒæŒ‘æˆ˜æ€§ï¼Œç©å®¶éœ€è¦ç²¾å¿ƒè§„åˆ’æ±‚å©šç­–ç•¥ï¼Œç»´æŠ¤å©šå§»å…³ç³»ï¼Œå¹¶åœ¨å¿…è¦æ—¶åº”å¯¹ç¦»å©šå¸¦æ¥çš„æŒ‘æˆ˜ï¼Œä½“éªŒè´¢å¯Œäººç”Ÿçš„å¤æ‚æƒ…æ„Ÿä¸è´¢åŠ¡å†³ç­–ï¼